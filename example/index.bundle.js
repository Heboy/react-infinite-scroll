webpackJsonp([0],{

/***/ 0:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = __webpack_require__(34);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _InfiniteScroll = __webpack_require__(172);\n\nvar _InfiniteScroll2 = _interopRequireDefault(_InfiniteScroll);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Created by Soup Tang on 2016/8/2.\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n\nvar Item = function (_React$Component) {\n    _inherits(Item, _React$Component);\n\n    function Item() {\n        _classCallCheck(this, Item);\n\n        return _possibleConstructorReturn(this, (Item.__proto__ || Object.getPrototypeOf(Item)).apply(this, arguments));\n    }\n\n    _createClass(Item, [{\n        key: 'render',\n        value: function render() {\n            return _react2.default.createElement(\n                'p',\n                null,\n                this.props.text\n            );\n        }\n    }]);\n\n    return Item;\n}(_react2.default.Component);\n\nvar App = function (_React$Component2) {\n    _inherits(App, _React$Component2);\n\n    function App(props) {\n        _classCallCheck(this, App);\n\n        var _this2 = _possibleConstructorReturn(this, (App.__proto__ || Object.getPrototypeOf(App)).call(this, props));\n\n        var num = Math.floor(Math.random() * 100);\n        var arr = [];\n        for (var i = 0; i < num; i++) {\n            arr.push(Math.random());\n        }\n        console.log(num);\n        _this2.state = {\n            items: arr\n        };\n        return _this2;\n    }\n\n    _createClass(App, [{\n        key: 'render',\n        value: function render() {\n            var _this3 = this;\n\n            return _react2.default.createElement(\n                _InfiniteScroll2.default,\n                { onLoad: this.loadMore.bind(this),\n                    hasMore: true,\n                    retry: this.retry.bind(this) },\n                function () {\n                    return _this3.state.items.map(function (item, index) {\n                        return _react2.default.createElement(Item, { text: item, key: index });\n                    });\n                }()\n            );\n        }\n    }, {\n        key: 'loadMore',\n        value: function loadMore() {\n            console.log('666');\n            var num = 10;\n            return new Promise(function (resolve, reject) {\n                var arr = [];\n                for (var i = 0; i < num; i++) {\n                    arr.push(Math.random());\n                }\n                setTimeout(function () {\n                    reject(new Error('请求超时,点击重试'));\n                }, 3000);\n            });\n        }\n    }, {\n        key: 'retry',\n        value: function retry() {\n            var _this4 = this;\n\n            var num = 10;\n            return new Promise(function (resolve, reject) {\n                var arr = [];\n                for (var i = 0; i < num; i++) {\n                    arr.push(Math.random());\n                }\n                setTimeout(function () {\n                    _this4.setState({\n                        items: _this4.state.items.concat(arr)\n                    });\n                    resolve();\n                }, 2000);\n            });\n        }\n    }]);\n\n    return App;\n}(_react2.default.Component);\n\n_reactDom2.default.render(_react2.default.createElement(App, null), document.querySelector('#wrapper'));\n\n/*****************\n ** WEBPACK FOOTER\n ** ./example/index.jsx\n ** module id = 0\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./example/index.jsx?");

/***/ },

/***/ 172:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () {\n    function defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n        }\n    }return function (Constructor, protoProps, staticProps) {\n        if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n    };\n}();\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _InlineLoading = __webpack_require__(173);\n\nvar _InlineLoading2 = _interopRequireDefault(_InlineLoading);\n\nvar _reactAddonsShallowCompare = __webpack_require__(174);\n\nvar _reactAddonsShallowCompare2 = _interopRequireDefault(_reactAddonsShallowCompare);\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n    if (!self) {\n        throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }return call && ((typeof call === 'undefined' ? 'undefined' : _typeof(call)) === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n        throw new TypeError(\"Super expression must either be null or a function, not \" + (typeof superClass === 'undefined' ? 'undefined' : _typeof(superClass)));\n    }subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n} /**\r\n   * Created by Soup Tang on 2016/8/2.\r\n   */\n\nvar InfiniteScroll = function (_React$Component) {\n    _inherits(InfiniteScroll, _React$Component);\n\n    function InfiniteScroll(props) {\n        _classCallCheck(this, InfiniteScroll);\n\n        var _this = _possibleConstructorReturn(this, (InfiniteScroll.__proto__ || Object.getPrototypeOf(InfiniteScroll)).call(this, props));\n\n        _this.state = {\n            loadCompleted: false,\n            errorMsg: '',\n            startLoad: false //首次加载时不显示inline loading\n        };\n        _this.onLoading = false;\n        return _this;\n    }\n\n    _createClass(InfiniteScroll, [{\n        key: 'shouldComponentUpdate',\n        value: function shouldComponentUpdate(nextProps, nextState) {\n            return (0, _reactAddonsShallowCompare2.default)(this, nextProps, nextState);\n        }\n    }, {\n        key: 'style',\n        value: function style() {\n            return {\n                height: this.props.height,\n                overFlowY: 'auto'\n            };\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            return _react2.default.createElement('ul', { onScroll: this.scrollHandle.bind(this),\n                className: this.props.className + ' infinite-scroll',\n                style: this.style() }, this.props.children, function () {\n                if (_this2.state.startLoad === false) {\n                    return null;\n                }\n                if (_this2.state.errorMsg.length > 0) {\n                    return _react2.default.createElement(_InlineLoading2.default, { hasMore: false, text: _this2.state.errorMsg, retry: _this2.retry.bind(_this2) });\n                }\n                if (_this2.props.hasMore === true && _this2.state.loadCompleted === false) {\n                    return _react2.default.createElement(_InlineLoading2.default, { hasMore: true });\n                }\n                return _react2.default.createElement(_InlineLoading2.default, { hasMore: false, text: '没有更多了...' });\n            }());\n        }\n    }, {\n        key: 'scrollHandle',\n        value: function scrollHandle(e) {\n            var _this3 = this;\n\n            var clientHeight = e.target.clientHeight;\n            var scrollHeight = e.target.scrollHeight;\n            var scrollTop = e.target.scrollTop;\n            //误差0.05以内\n            if ((scrollHeight - clientHeight) / scrollTop <= 1.05 && this.props.hasMore === true && this.onLoading === false) {\n                this.onLoading = true; //加载中状态，避免重复出发onLoad\n                if (!this.props.onLoad) {\n                    throw new Error('need onLoad');\n                }\n                //onLoad返回Promise对象\n                var result = this.props.onLoad();\n                this.setState({\n                    loadCompleted: false,\n                    startLoad: true\n                });\n                if (result instanceof Promise) {\n                    result.then(function () {\n                        _this3.setState({\n                            loadCompleted: true\n                        });\n                        _this3.onLoading = false;\n                    }).catch(function (errorMsg) {\n                        _this3.setState({\n                            loadCompleted: true,\n                            errorMsg: errorMsg.message\n                        });\n                    });\n                }\n            }\n        }\n    }, {\n        key: 'retry',\n        value: function retry() {\n            var _this4 = this;\n\n            if (this.props.retry) {\n                this.onLoading = true;\n                var result = this.props.retry();\n                this.setState({\n                    hasMore: true,\n                    loadCompleted: false,\n                    errorMsg: ''\n                });\n                if (result instanceof Promise) {\n                    result.then(function () {\n                        _this4.setState({\n                            loadCompleted: true\n                        });\n                        _this4.onLoading = false;\n                    }).catch(function (errorMsg) {\n                        _this4.setState({\n                            loadCompleted: true,\n                            errorMsg: errorMsg.message\n                        });\n                    });\n                }\n            } else {\n                throw new Error('no retry props');\n            }\n        }\n    }]);\n\n    return InfiniteScroll;\n}(_react2.default.Component);\n\nInfiniteScroll.defaultProps = {\n    hasMore: true,\n    height: '100%',\n    className: '',\n    onLoad: function onLoad() {\n        console.log('需要重写onLoad方法');\n    }\n};\n\nInfiniteScroll.propType = {\n    hasMore: _react2.default.PropTypes.bool,\n    //显示设置高度以便产生滚动事件\n    height: _react2.default.PropTypes.string,\n    className: _react2.default.PropTypes.string,\n    //加载更多\n    onLoad: _react2.default.PropTypes.func,\n    //失败后的点击重试方法\n    retry: _react2.default.PropTypes.func\n};\n\nmodule.exports = InfiniteScroll;\n\n/*****************\n ** WEBPACK FOOTER\n ** ./dist/InfiniteScroll.js\n ** module id = 172\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./dist/InfiniteScroll.js?");

/***/ },

/***/ 173:
/***/ function(module, exports, __webpack_require__) {

	eval("\"use strict\";\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () {\n    function defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n        }\n    }return function (Constructor, protoProps, staticProps) {\n        if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n    };\n}();\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n    if (!self) {\n        throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }return call && ((typeof call === \"undefined\" ? \"undefined\" : _typeof(call)) === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n        throw new TypeError(\"Super expression must either be null or a function, not \" + (typeof superClass === \"undefined\" ? \"undefined\" : _typeof(superClass)));\n    }subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n} /**\r\n   * Created by Soup Tang on 2016/8/2.\r\n   */\n\nvar InlineLoading = function (_React$Component) {\n    _inherits(InlineLoading, _React$Component);\n\n    function InlineLoading() {\n        _classCallCheck(this, InlineLoading);\n\n        return _possibleConstructorReturn(this, (InlineLoading.__proto__ || Object.getPrototypeOf(InlineLoading)).apply(this, arguments));\n    }\n\n    _createClass(InlineLoading, [{\n        key: \"render\",\n        value: function render() {\n            var _this2 = this;\n\n            return _react2.default.createElement(\"div\", { className: \"inline-loading\" }, function () {\n                if (_this2.props.hasMore === true) {\n                    return _react2.default.createElement(\"div\", { className: \"kebab-spinner-fading-circle circle-color\" }, _react2.default.createElement(\"div\", { className: \"is-circle1 circle\" }), _react2.default.createElement(\"div\", { className: \"is-circle2 circle\" }), _react2.default.createElement(\"div\", { className: \"is-circle3 circle\" }), _react2.default.createElement(\"div\", { className: \"is-circle4 circle\" }), _react2.default.createElement(\"div\", { className: \"is-circle5 circle\" }), _react2.default.createElement(\"div\", { className: \"is-circle6 circle\" }), _react2.default.createElement(\"div\", { className: \"is-circle7 circle\" }), _react2.default.createElement(\"div\", { className: \"is-circle8 circle\" }), _react2.default.createElement(\"div\", { className: \"is-circle9 circle\" }), _react2.default.createElement(\"div\", { className: \"is-circle10 circle\" }), _react2.default.createElement(\"div\", { className: \"is-circle11 circle\" }), _react2.default.createElement(\"div\", { className: \"is-circle12 circle\" }));\n                }\n            }(), _react2.default.createElement(\"span\", { className: \"text\", onClick: this.props.retry }, this.props.text));\n        }\n    }]);\n\n    return InlineLoading;\n}(_react2.default.Component);\n\nInlineLoading.defaultProps = {\n    hasMore: true,\n    text: '加载中...'\n};\n\nInlineLoading.propType = {\n    hasMore: _react2.default.PropTypes.bool,\n    retry: _react2.default.PropTypes.func,\n    text: _react2.default.PropTypes.string\n};\n\nmodule.exports = InlineLoading;\n\n/*****************\n ** WEBPACK FOOTER\n ** ./dist/InlineLoading.js\n ** module id = 173\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./dist/InlineLoading.js?");

/***/ },

/***/ 174:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nmodule.exports = __webpack_require__(175);\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/react-addons-shallow-compare/index.js\n ** module id = 174\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./~/react-addons-shallow-compare/index.js?");

/***/ },

/***/ 175:
/***/ function(module, exports, __webpack_require__) {

	eval("/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n* @providesModule shallowCompare\n*/\n\n'use strict';\n\nvar shallowEqual = __webpack_require__(124);\n\n/**\n * Does a shallow comparison for props and state.\n * See ReactComponentWithPureRenderMixin\n * See also https://facebook.github.io/react/docs/shallow-compare.html\n */\nfunction shallowCompare(instance, nextProps, nextState) {\n  return !shallowEqual(instance.props, nextProps) || !shallowEqual(instance.state, nextState);\n}\n\nmodule.exports = shallowCompare;\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/react/lib/shallowCompare.js\n ** module id = 175\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./~/react/lib/shallowCompare.js?");

/***/ }

});